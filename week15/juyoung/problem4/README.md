# 문제 개요

문제 : [나머지 합](https://www.acmicpc.net/problem/10986)

문제 분류 : 누적합

# 문제 풀이

연속된 부분 구간의 합이 `M`으로 나누어 떨어지는 구간은 아래의 두 가지가 있다.

1. 0번째 수부터(처음부터) 현재까지의 구간의 합이 `M`으로 나누어지는 경우
2. n번째 수부터 현재까지의 구간의 합이 `M`으로 나누어지는 경우

```
5 3
1 2 3 1 2
```

위와 같은 입력이 주어졌을 때 누적합을 배열에 저장하면 아래와 같다.

| 0   | 1   | 2   | 3   | 4   |
| --- | --- | --- | --- | --- |
| 1   | 3   | 6   | 7   | 9   |

여기서 각 원소에 3으로 모듈러 연산을 하면 아래와 같아진다.

| 0   | 1   | 2   | 3   | 4   |
| --- | --- | --- | --- | --- |
| 1   | 0   | 0   | 1   | 0   |

1번의 경우, 위 배열에서 단순히 0의 개수를 구하면 된다.

2번의 경우, 모듈러 연산 전의 배열을 `sum`이라고 했을 때 `sum[i]%MOD=sum[j]%MOD`의 개수를 찾으면 된다.  
그 이유는 `i`번째~`j`번째 구간의 합이 `M`으로 나누어떨어지는 경우 다음 식이 성립되기 때문이다.

(sum[j]-sum[i])%MOD=0  
➡️ sum[j]%MOD-sum[i]%MOD=0  
➡️ sum[j]%MOD=sum[i]%MOD

즉, 모듈러 연산 후의 배열에서 값이 같은 두 원소를 뽑는 경우의 수를 더하면 된다.

| 0   | 1   | 2   | 3   | 4   |
| --- | --- | --- | --- | --- |
| 1   | 0   | 0   | 1   | 0   |

위 원소 중 값이 같은 두 원소를 뽑는 경우의 수는  
(0, 3), (1, 2), (1, 4), (2, 4)로 총 4가지이다.

따라서 3+4=7이 위 예시의 정답이 된다.
